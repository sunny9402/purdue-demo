
sudo apt-get update
sudo apt-get install jenkins
https://github.com/yankils/DevOps/blob/master/jenkins/pipeline-templates/maven-build
-B package --file pom.xml
FROM tomcat:8
COPY target/java-example.war /usr/local/tomcat/webapps/ROOT.war
EXPOSE 8080
CMD ["catalina.sh", "run"]
ssunnysingh/pgpedureka:tagname

FROM tomcat:8.0-alpine
LABEL maintainer="deepak@softwareyoga.com"

ADD sample.war /usr/local/tomcat/webapps/

---
- hosts: kubernetes
#  become: ture
  user: root

  tasks:
    - name: deploy regapp on kubernetes
      command: kubectl apply -f regapp-deployment.yml

    - name: create service for regapp
      command: kubectl apply -f regapp-service.yml

    - name: update deployment with new pods if image updated in docker hub
      command: kubectl rollout restart deployment.apps/valaxy-regapp

kubectl config set-context my-context --cluster=my-cluster --user=my-user --namespace=my-namespace
